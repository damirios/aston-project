{"version":3,"file":"static/js/131.897092ef.chunk.js","mappings":"yNAQe,SAASA,IACpB,IAAQC,GAAYC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,IAAI,IAA3CH,QACFI,EAAeC,OAAOC,OAAON,GAC7BO,GAAWH,EAAaI,OAExBC,GAAYC,EAAAA,EAAAA,MAAgBC,OAAOC,MAEnCC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,MAMjB,SAASC,EAAgBC,GACrB,IACMC,EADcD,EAAEE,OAAOC,QAAQ,MACZC,aAAa,CAAC,cAEvCP,GAASQ,EAAAA,EAAAA,IAAW,CAChBJ,KAAMA,EAAKK,cACXC,OAAO,KAGXZ,EAAS,IACb,CAEA,OACI,gBAAKa,UAAU,kBAAiB,UAC5B,gBAAKA,UAAU,YAAW,UACtB,iBAAKA,UAAU,kBAAiB,WAC5B,iBAAKA,UAAU,gBAAe,WAC1B,gBAAIA,UAAU,iBAAgB,mLAA+B,0BAAOjB,QACpE,gBAAKiB,UAAU,mBAAkB,UAC7B,mBAAQC,QAxBhC,WACIZ,GAASa,EAAAA,EAAAA,QACTC,EAAAA,EAAAA,KACJ,EAqB2DH,UAAU,wBAAuB,oJAG5E,eAAIA,UAAU,gBAAe,SACxBnB,EAAU,KAAOH,EAAa0B,KAAI,SAACC,EAAMC,GACtC,OACI,gBAAI,YAAWD,EAAMJ,QAASV,EAAiBS,UAAU,gBAAe,UACnEM,EAAQ,EAAC,iFAAkB,0BAAOD,MADuCC,EAItF,YAMxB,C","sources":["components/History.jsx"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { historyCleared } from \"../features/user/userSlice\";\r\nimport { fetchGames } from \"../features/games/gamesSlice\";\r\n\r\nimport { getInfoFromLS, clearHistoryInLS } from \"../utilitieFunctions/localStorageActions\";\r\n\r\nexport default function History() {\r\n    const { history } = useSelector(state => state.user);\r\n    const historyArray = Object.values(history);\r\n    const isEmpty = !historyArray.length;\r\n\r\n    const userLogin = getInfoFromLS().online.login;\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    const dispatch = useDispatch();\r\n    function handleClearClick() {\r\n        dispatch(historyCleared());\r\n        clearHistoryInLS();\r\n    }\r\n\r\n    function handleLinkClick(e) {\r\n        const clickedItem = e.target.closest('li');\r\n        const text = clickedItem.getAttribute(['data-text']);\r\n    \r\n        dispatch(fetchGames({\r\n            text: text.toLowerCase(),\r\n            query: true\r\n        }));\r\n\r\n        navigate('/');\r\n    }\r\n\r\n    return (\r\n        <div className=\"content history\">\r\n            <div className=\"container\">\r\n                <div className=\"history__column\">\r\n                    <div className=\"history__menu\">\r\n                        <h5 className=\"history__title\">История запросов пользователя <span>{userLogin}</span></h5>\r\n                        <div className=\"history__buttons\">\r\n                            <button onClick={handleClearClick} className=\"history__clear-button\">Очистить историю поиска</button>\r\n                        </div>\r\n                    </div>\r\n                    <ul className=\"history__list\">\r\n                        {isEmpty ? null : historyArray.map((elem, index) => {\r\n                            return (\r\n                                <li data-text={elem} onClick={handleLinkClick} className=\"history__item\" key={index}>\r\n                                    {index + 1}) Текст запроса: <span>{elem}</span>\r\n                                </li>\r\n                            );\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["History","history","useSelector","state","user","historyArray","Object","values","isEmpty","length","userLogin","getInfoFromLS","online","login","navigate","useNavigate","dispatch","useDispatch","handleLinkClick","e","text","target","closest","getAttribute","fetchGames","toLowerCase","query","className","onClick","historyCleared","clearHistoryInLS","map","elem","index"],"sourceRoot":""}